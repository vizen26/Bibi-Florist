<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bibi Florist</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <style>
    :root {
      --logo-green: #2a4a2d;
      --primary: #2a4a2d;
      --primary-600: #20391e;
      --bg: #cedfd2;
      --muted: #476b58;
      --card-shadow: 0 6px 18px rgba(34,49,63,0.08);
      --radius: 14px;
      --accent: #bbdbc6;
      --soft-blue: #e4eff5;
      --white: #fff;
    }
    body {
      margin: 0;
      font-family: "Quicksand", Arial, sans-serif;
      background: var(--bg) url('https://svgshare.com/i/vjz.svg') no-repeat right 64px top 48px;
      background-size: 430px;
      color: #213b2b;
      -webkit-font-smoothing: antialiased;
      padding-bottom: 70px;
    }
    header {
      background: var(--logo-green);
      color: #233928;
      text-align: center;
      padding: 16px 18px 28px;
      position: relative;
      overflow: visible;
      border-bottom-left-radius: 56px;
      border-bottom-right-radius: 56px;
      box-shadow: 0 2px 18px #607d6344;
      z-index: 10;
    }
    .logo-img {
      display: block;
      margin: 0 auto;
      height: 180px;
      width: 180px;
      object-fit: contain;
      background: var(--white);
      border-radius: 24px;
      border: 3px solid var(--logo-green);
      box-shadow: 0 2px 8px #2a4a2d44;
    }
    @media (max-width: 600px) {
      .logo-img { height: 120px; width: 120px; }
    }
    header h1 { display: none; }
    .filter-bar { display: none; }
    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 28px 16px 60px;
      position: relative;
      z-index: 2;
    }
    @media (max-width: 600px) {
      main { padding-top: 16px; }
    }
    .products { 
      display: grid; gap: 21px;
      grid-template-columns: repeat(4, 1fr);
    }
    @media (max-width: 820px) {
      .products { grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 600px) {
      .products { grid-template-columns: repeat(2, 1fr); }
      .logo-img { height: 90px; width: 90px; }
      .detail-card, #cartPage, #aboutPage { padding:14px 5vw; }
      header { padding: 9px 4vw 18px; }
      header p { font-size: 13px; }
    }
    .card {
      background: var(--white); 
      border-radius: var(--radius); 
      box-shadow: var(--card-shadow); 
      overflow: hidden; display: flex; flex-direction: column; 
      transition: transform 0.13s ease;
      cursor: pointer;
      border: none;
    }
    .card:hover { 
      transform: translateY(-8px) scale(1.01);
      box-shadow: 0 14px 26px #2a4a2d33;
    }
    .card img { width: 100%; height: 153px; object-fit: cover; display: block; border-radius: 0 0 16px 16px; }
    .card-body { 
      padding: 14px; display: flex; flex-direction: column; gap: 9px; flex: 1;
      background: var(--white); border-radius: 0 0 16px 16px;
    }
    .card h3 { margin: 0; color: var(--primary-600); font-size: 17px; font-family:"Montserrat Alternates"; letter-spacing:1px;}
    .card .price { font-weight: 700; color: var(--logo-green);}
    .card .actions { margin-top: auto; display: flex; justify-content: center;}
    .btn { border: 0; border-radius: 12px; padding: 9px 13px; cursor: pointer; font-weight: 700; font-family:"Quicksand"; background: var(--logo-green); color: var(--white); transition: background 0.17s;}
    .btn-detail { background: var(--accent); color: var(--logo-green);}
    .btn-detail:hover { background: var(--logo-green); color: var(--white);}
    #detailView { display: none; max-width: 900px; margin: 0 auto;}
    .detail-card, #cartPage, #aboutPage { 
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--card-shadow);
      padding: 24px 28px;
      color: var(--primary-600);
      font-size: 16px;
      max-width: 700px;
      margin: 28px auto;
      border: none;
    }
    .detail-card { display: flex; gap: 22px; align-items: flex-start; flex-wrap: wrap;}
    .detail-left { flex: 1 1 360px;}
    .detail-left img { width: 100%; border-radius: 13px; height: auto; object-fit: cover;}
    .detail-right { flex: 1 1 360px; display: flex; flex-direction: column; gap: 13px;}
    .detail-right h2 { margin: 0; color: var(--logo-green); font-family:"Montserrat Alternates"; font-size: 23px; letter-spacing:1px;}
    .muted { color: var(--muted); font-size: 14px;}
    @media (max-width:500px) {
      .payment-card { padding:7px 2vw; max-width:95vw; }
      .payment-card * { font-size:0.87rem; }
    }
    #cartPage h2 { margin-top:0; color: var(--logo-green);}
    #cartPage textarea {
      padding: 12px 14px;
      border-radius: 14px;
      background: var(--soft-blue);
      border: 1.5px solid var(--accent);
      width: 100%;
      min-height: 40px;
      font-family: "Quicksand", Arial, sans-serif;
      font-size: 15px;
      color: var(--primary-600);
      resize: vertical;
      box-sizing: border-box;
      line-height: 1.6;
      transition: border-color .3s;
      overflow: auto;
      margin-top: 4px;
    }
    #cartPage textarea:focus { border-color: var(--logo-green); }
    #aboutPage h2 { color: var(--logo-green); font-family:"Montserrat Alternates"; font-size: 26px; margin-bottom: 14px; font-weight: 700; border-bottom: 2px solid var(--logo-green); padding-bottom: 7px; }
    #aboutPage h3 { color: var(--primary-600); font-size: 21px; margin-top: 26px; margin-bottom: 10px;}
    #aboutPage p { margin: 0 0 13px;}
    #aboutPage p a { color: var(--logo-green); text-decoration: none;}
    #aboutBackBtn,
    #cartPage .btn,
    .detail-right .btn {
      border-radius: 10px;
      background: var(--logo-green);
      color: var(--white);
      padding: 10px 18px;
      font-weight: 600;
      box-shadow: none;
      border: none;
      margin-top: 10px;
    }
    #aboutBackBtn:hover,
    #cartPage .btn:hover,
    .detail-right .btn:hover { background: var(--primary-600); color: var(--white);}
    .about-icon { vertical-align: middle; color: var(--logo-green); margin-right: 6px; font-size: 20px; opacity: 0.8;}
    #bottomNav {
      position: fixed; bottom: 0; left: 50%; transform: translateX(-50%); background: var(--white); border-top: 1.5px solid #eaeaea; width: 290px; display: flex; justify-content: space-around; align-items: center; padding: 8px 0; border-radius: 16px 16px 0 0; box-shadow: 0 -3px 16px #d2d2d244; z-index: 130;
    }
    .nav-icon {
      background: none; border: none; cursor: pointer; font-size: 28px; color: var(--logo-green); position: relative; outline: none; transition: transform 0.23s ease, color 0.23s ease;
    }
    .nav-icon:hover, .nav-icon.active { color: var(--primary-600); transform: scale(1.15);}
    #cartCount { position: absolute; top: 2px; right: 2px; background: var(--logo-green); color: var(--white); padding: 2px 6px; border-radius: 999px; font-size: 10px; font-weight: 700;}
    #confirmAddModal { display: none; position: fixed; inset: 0; background: rgba(44,64,63,0.23); z-index: 300; align-items: center; justify-content: center;}
    #confirmAddModal > div { background: var(--white); padding: 21px; border-radius: 13px; width: 330px; text-align: center; box-shadow: 0 10px 30px #2a4a2d44;}
    #confirmAddModal p { font-weight: 700; white-space: pre-line; margin: 0; font-family:"Quicksand";}
    #confirmAddModal button { font-weight: 700; border: none; padding: 10px 14px; border-radius: 9px; cursor: pointer; margin: 0 5px; font-family:"Quicksand"; background: var(--logo-green); color: var(--white);}
    #confirmAddModal button:hover { background: var(--primary-600); }
    #footerContact { display: none;}
    /* Tombol detail produk custom */
    .order-btn {
      background: linear-gradient(90deg, var(--accent) 0%, var(--logo-green) 100%);
      color: #fff;
      border: 2.5px solid var(--accent);
      font-weight: 700;
      font-size: 16px;
      box-shadow: 0 4px 18px #2a4a2d14;
      transition: box-shadow .18s, transform .13s, filter .16s;
      position: relative;
    }
    .order-btn:hover {
      box-shadow: 0 7px 24px #2a4a2d33;
      filter: brightness(1.09);
    }
    .order-btn:active {
      animation: btnPulse 0.44s both;
    }
    .cart-btn:active {
      animation: btnPulse 0.38s both;
    }
    @keyframes btnPulse {
      0%   { transform: scale(1);}
      32%  { transform: scale(1.11);}
      48%  { transform: scale(0.95);}
      100% { transform: scale(1);}
    }
    /* Payment section special style */
    .payment-card {
      background: #fff;
      border-radius: 12px;
      color: var(--logo-green);
      box-shadow: 0 6px 22px rgba(34,49,63,0.14), 0 1px 6px #2a4a2d21;
      padding: 13px 15px 11px 15px;
      max-width: 249px;
      margin: 12px auto 18px auto;
      font-family: 'Montserrat Alternates', 'Quicksand', Arial, sans-serif;
      display: flex;
      flex-direction: column;
      gap: 7px;
    }
    .payment-card * { color: var(--logo-green); font-size: 0.89rem; font-family: 'Quicksand', Arial, sans-serif; }
    .pay-bank {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom:2px;
    }
    .bank-logo {
      height: 15px;
      width: auto;
      background: none;
      border-radius: 3px;
      padding: 0;
    }
    .bank-name {
      font-size: 0.93rem;
      font-weight: 700;
      letter-spacing: 1px;
    }
    .pay-info {
      display: flex;
      align-items: center;
      gap:6px;
      line-height:1.27;
      font-size: 0.89rem;
    }
    .pay-label {
      min-width: 72px;
      font-weight: 700;
    }
    .pay-value, .rekening {
      background: #e4eff5;
      border-radius: 5px;
      padding: 2px 7px;
      font-weight: 500;
      font-family: 'Montserrat Alternates','Quicksand',monospace;
      font-size: 0.88rem;
      color: var(--logo-green);
      letter-spacing: 0.9px;
    }
    .btn-copy {
      background: var(--accent, #bbdbc6);
      color: var(--logo-green);
      border: none;
      border-radius: 4px;
      padding: 3px 7px;
      font-size: 0.88rem;
      font-weight: 700;
      font-family: 'Quicksand', Arial, sans-serif;
      cursor: pointer;
      margin-left: 4px;
      transition: background .16s;
      box-shadow: 0 2px 3px #2a4a2d0b;
    }
    .btn-copy:hover {
      background: #e4eff5;
      color: var(--logo-green);
    }
  </style>
</head>
<body>
<header>
  <img src="https://i.ibb.co.com/ZptswZcw/Chat-GPT-Image-Sep-28-2025-12-45-53-PM.png" alt="Logo Bibi Florist" class="logo-img" />
</header>
<div class="filter-bar" style="display:none"></div>
<main>
  <section id="productsGrid" class="products" aria-live="polite"></section>
  <section id="detailView"></section>
</main>
<nav id="bottomNav" role="navigation" aria-label="Navigasi utama">
  <button id="navHome" aria-label="Beranda" title="Beranda" class="nav-icon">
    <span class="fa fa-home"></span>
  </button>
  <button id="cartBtn" aria-label="Keranjang" title="Keranjang" class="nav-icon">
    <span class="fa fa-shopping-cart"></span>
    <span id="cartCount">0</span>
  </button>
  <button id="navTentang" aria-label="Tentang" title="Tentang" class="nav-icon">
    <span class="fa fa-info-circle"></span>
  </button>
</nav>
<div id="confirmAddModal" aria-hidden="true">
  <div>
    <p id="confirmAddMessage"></p>
    <div>
      <button id="confirmAddYes">Ya</button>
      <button id="confirmAddNo">Batal</button>
    </div>
  </div>
</div>
<footer id="footerContact"></footer>
<script>
  const waNumber = "6285697710949";
  let cart = [];
  let pendingAdd = null;
  const products = [
{name:"Dried Flower (Baby’s Breath)",category:"dried",price:150000,stock:100,desc:"Dried Flower Baby’s Breath varian bouquet cantik.",img:null},
{name:"Dried Flower (Baby’s Breath Premium)",category:"dried",price:175000,stock:100,desc:"Baby’s Breath premium bunga kering, cocok untuk hadiah.",img:null},
{name:"Artificial Flower",category:"artificial",price:150000,stock:100,desc:"Bouquet bunga artificial, banyak pilihan warna.",img:null},
{name:"Fresh Flower (Mawar & Baby’s Breath)",category:"fresh",price:300000,stock:100,desc:"Bouquet fresh flower kombinasi mawar dan baby’s breath.",img:null},
{name:"Artificial Flower Box Mini",category:"box",price:75000,stock:100,desc:"Box bunga artificial mini hiasan meja, hadiah kecil.",img:null},
{name:"Artificial Flower Box Medium",category:"box",price:120000,stock:100,desc:"Box bunga artificial ukuran medium, rangkaian cantik.",img:null},
{name:"Fresh Flower Box",category:"box",price:135000,stock:100,desc:"Box fresh flower, cocok untuk surprise atau hadiah.",img:null},
{name:"Artificial Flower Box Large",category:"box",price:150000,stock:100,desc:"Box bunga artificial besar, bisa custom warna.",img:null},
{name:"Money Bouquet",category:"money",price:150000,stock:100,desc:"Bouquet uang dan bunga artificial kombinasi.",img:null},
{name:"Artificial Flower Bouquet",category:"artificial",price:175000,stock:100,desc:"Bouquet bunga artificial untuk berbagai acara.",img:null},
{name:"Fresh Flower Bouquet",category:"fresh",price:200000,stock:100,desc:"Bouquet fresh flower mix premium.",img:null},
{name:"Bloom Box Balloon & Photo",category:"box",price:225000,stock:100,desc:"Bloom box balon dengan foto, bisa custom request.",img:null},
{name:"Bloom Box Balloon & Stitch",category:"box",price:245000,stock:100,desc:"Bloom box balon dengan foto & stitch edition.",img:null},
{name:"Bloom Box Balloon & Doraemon",category:"box",price:300000,stock:100,desc:"Bloom box balon dengan foto & doraemon edition.",img:null}
  ];
  function formatRupiah(n) { return 'Rp ' + Number(n).toLocaleString('id-ID'); }
  function escapeHtml(s) { return String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"'"}) ); }

  const productsGrid = document.getElementById('productsGrid');
  const detailView = document.getElementById('detailView');
  const cartBtn = document.getElementById('cartBtn');
  const cartCountEl = document.getElementById('cartCount');

  function renderProducts() {
    productsGrid.style.display = 'grid';
    detailView.style.display = 'none';
    productsGrid.innerHTML = '';
    products.forEach((p, idx) => {
      const card = document.createElement('article');
      card.className = 'card';
      card.innerHTML = `
        <img src="${p.img}" alt="${escapeHtml(p.name)}" />
        <div class="card-body">
          <h3>${escapeHtml(p.name)}</h3>
          <div class="price">${formatRupiah(p.price)}</div>
          <div class="actions">
            <button class="btn btn-detail">Beli</button>
          </div>
        </div>`;
      card.addEventListener('click', () => {
        showDetail(idx);
        window.history.pushState({page:'detail', idx:idx}, '', '');
      });
      card.querySelector('.btn-detail').addEventListener('click', e => {
        e.stopPropagation();
        showDetail(idx);
        window.history.pushState({page:'detail', idx:idx}, '', '');
      });
      productsGrid.appendChild(card);
    });
    setActiveNav('navHome');
    window.history.replaceState({page:'products'}, '', '');
  }

  function showDetail(idx){
    const p = products[idx];
    productsGrid.style.display = 'none';
    detailView.style.display = 'block';
    detailView.innerHTML = `
      <div class="detail-card">
        <div class="detail-left">
          <img src="${p.img}" alt="${escapeHtml(p.name)}" />
        </div>
        <div class="detail-right">
          <h2>${escapeHtml(p.name)}</h2>
          <div style="font-weight:700; font-size:18px; margin-top:6px">${formatRupiah(p.price)}</div>
          <p style="margin-top:8px">${escapeHtml(p.desc)}</p>
          <div style="margin-top:10px; display:flex; gap:16px; align-items:center; justify-content:space-between;">
            <button id="orderNowBtn" class="btn order-btn"><span style="margin-right:6px;">🌸</span>Order Sekarang</button>
            <button id="addCartBtn" class="btn cart-btn">Tambah ke Keranjang</button>
            <a href="#" id="backToList" style="margin-left:6px; color:var(--muted); text-decoration:none;">← Kembali</a>
          </div>
        </div>
      </div>
    `;
    document.getElementById("backToList").addEventListener('click', e => {
      e.preventDefault();
      renderProducts();
      setActiveNav('navHome');
    });
    document.getElementById("addCartBtn").addEventListener('click', function() {
      this.style.animation = "btnPulse 0.38s";
      setTimeout(()=>this.style.animation = "", 380);
      pendingAdd = { product: p, qty: 1 };
      const totalPrice = p.price; // qty selalu 1
      document.getElementById('confirmAddMessage').textContent =
        `Tambah ke keranjang:\n- Produk: ${p.name}\n- Jumlah: 1\n- Harga total: ${formatRupiah(totalPrice)}`;
      const modal = document.getElementById('confirmAddModal');
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden', 'false');
    });
document.getElementById("orderNowBtn").addEventListener('click', function() {
  this.style.animation = "btnPulse 0.44s";
  setTimeout(()=>this.style.animation = "", 440);
  const harga = formatRupiah(p.price);
  const msg = `Halo, saya ingin memesan ${p.name} \nHarga: ${harga}`;
  const url = `https://wa.me/${waNumber}?text=${encodeURIComponent(msg)}`;
  window.open(url, '_blank');
});

    setActiveNav(null);
  }

  function updateCartUI() { cartCountEl.textContent = cart.length; }
  function renderCartPage() {
    productsGrid.style.display = 'none';
    detailView.style.display = 'block';
    detailView.innerHTML = `
      <section id="cartPage">
        <h2>Keranjang Belanja</h2>
        <div id="cartItems"></div>
        <div style="margin-top:12px;">
          <label for="orderNotePage">Catatan untuk penjual</label><br/>
          <textarea id="orderNotePage" placeholder="Contoh: request khusus rangkaian, warna dominan, dll..."></textarea>
        </div>
        <div style="margin-top:12px;">
          <button id="checkoutPageBtn" class="btn">Pesan via WA</button>
          <button id="backToProductsBtn" class="btn" style="background:var(--accent); color:var(--logo-green)">Kembali ke Produk</button>
        </div>
      </section>`;
    const cartItemsDiv = document.getElementById('cartItems');
    if(cart.length === 0){
      cartItemsDiv.innerHTML = '<p style="color:var(--muted)">Keranjang masih kosong.</p>';
    } else {
      let totalPrice = 0;
      cartItemsDiv.innerHTML = '';
      cart.forEach((item, idx) => {
        const product = products.find(p => p.name === item.name);
        totalPrice += item.price;
        const div = document.createElement('div');
        div.style.marginBottom = '12px';
        div.style.display = 'flex';
        div.style.alignItems = 'center';
        div.style.gap = '12px';
        div.innerHTML = `
          <img src="${product?.img || ''}" alt="${escapeHtml(item.name)}" style="width:80px; height:60px; object-fit:cover; border-radius:8px; flex-shrink:0;">
          <div style="flex:1;">
            <div style="font-weight:700">${escapeHtml(item.name)}</div>
            <div>Harga: ${formatRupiah(item.price)}</div>
          </div>
          <button class="btn" style="background:#d44; color:#fff; padding:6px 10px; border-radius:8px; white-space:nowrap;" data-idx="${idx}">Hapus</button>
        `;
        cartItemsDiv.appendChild(div);
        div.querySelector('button').addEventListener('click', () => {
          cart.splice(idx, 1);
          updateCartUI();
          renderCartPage();
        });
      });
      const totalDiv = document.createElement('div');
      totalDiv.style.fontWeight = '700';
      totalDiv.style.marginTop = '10px';
      totalDiv.textContent = `Total: ${formatRupiah(totalPrice)}`;
      cartItemsDiv.appendChild(totalDiv);
    }
    document.getElementById('backToProductsBtn').addEventListener('click', () => {
      renderProducts();
      setActiveNav('navHome');
    });
    document.getElementById('checkoutPageBtn').addEventListener('click', () => {
      if(cart.length === 0){
        alert('Keranjang kosong. Tambahkan produk sebelum pesan.'); return;
      }
      let msg = 'Halo, saya ingin memesan:\n';
      let totalHarga = 0;
      cart.forEach(item => {
        totalHarga += item.price;
        msg += `- ${item.name} (Rp ${item.price.toLocaleString()})\n`;
      });
      msg += `\nTotal Harga: Rp ${totalHarga.toLocaleString()}\n`;
      const note = (document.getElementById('orderNotePage').value || '').trim();
      msg += note ? `Catatan: ${note}\n\n` : 'Catatan: -\n\n';
      msg += 'Mohon untuk dapat disiapkan ya, terima kasih.';
      const encodedMsg = encodeURIComponent(msg);
      const url = `https://wa.me/${waNumber}?text=${encodedMsg}`;
      window.open(url, '_blank');
    });
    setActiveNav('cartBtn');
    window.history.replaceState({page:'cart'}, '', '');
  }

function renderAboutPage() {
  productsGrid.style.display = 'none';
  detailView.style.display = 'block';
  detailView.innerHTML = `
  <section id="aboutPage" role="main" aria-labelledby="aboutTitle" style="position:relative;">
    <h2 id="aboutTitle">Tentang Bibi Florist</h2>
    <p style="font-weight:bold; font-size:19px; color:var(--logo-green); margin-bottom:8px;">
      Bibi Florist – Hadiahkan Kebahagiaan dengan Sentuhan Elegan dari Bibi Florist.
    </p>
    <p>
Bibi Florist menghadirkan buket bunga segar, bunga artifisial, buket snack dan uang, serta jasa hias mahar dan hantaran pernikahan dengan sentuhan modern, elegan, dan penuh makna. Setiap rangkaian dikerjakan dengan detail dan ketelitian untuk mewakili keindahan, doa, serta kebahagiaan dalam setiap momen berharga seperti ulang tahun, wisuda, pernikahan, hingga ucapan terima kasih.
    </p>
    <h3>Kontak</h3>
    <p><span class="fa fa-phone about-icon" aria-hidden="true"></span> 0856-9771-0949</p>
    <p><span class="fa fa-whatsapp about-icon" aria-hidden="true"></span> <a href="https://wa.me/6285697710949" target="_blank" rel="noopener noreferrer">Chat via WhatsApp</a></p>
    <p><span class="fa fa-envelope about-icon" aria-hidden="true"></span> <a href="mailto:imasyuningsih443@gmail.com">imasyuningsih443@gmail.com</a></p>
    <h3 style="margin-bottom:18px; color:var(--logo-green);">Pembayaran</h3>
<div class="payment-card">
  <div class="pay-bank">
    <img src="https://th.bing.com/th/id/R.4d692006015fd37ed4fd155ceefe9d88?rik=YDbEo%2fzsssVmPA&riu=http%3a%2f%2f4.bp.blogspot.com%2f-HL8IH_ZHKvI%2fUl-kk_7AC_I%2fAAAAAAAAC6M%2fb7BWRYGdn8w%2fs1600%2fBCA-Bank-Logo-blue.png&ehk=7%2fTz85jERnSu1EVuPQi4qCQHtzNt%2bxTv%2fZiS0x4waYM%3d&risl=&pid=ImgRaw&r=0" alt="BCA" class="bank-logo" />
  </div>
  <div class="pay-info">
    <span class="pay-label">Penerima:</span>
    <span class="pay-value">Imas Yuningsih</span>
  </div>
  <div class="pay-info">
    <span class="pay-label">No. Rekening:</span>
    <span class="rekening">8880164083</span>
    <button class="btn-copy" onclick="navigator.clipboard.writeText('8880164083')">Copy</button>
  </div>
</div>
    <h3><span class="fa fa-map-marker about-icon" aria-hidden="true"></span> Alamat</h3>
    <p>Jl. Kp. Tapos RT.01/RW.01 No. 104 Tapos, Kec. Tigaraksa, Kabupaten Tangerang, Banten 15720</p>
    <div style="margin:10px 0 14px; max-width:100%; height:200px; border-radius:12px; overflow:hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.07);">
<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d63453.37467253562!2d106.4007605!3d-6.2852883!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e42079ebd30e4b7%3A0x6c4e74639669204c!2sBibi%20Florist!5e0!3m2!1sid!2sid!4v1759054237717!5m2!1sid!2sid" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
    <button id="aboutBackBtn" class="btn" style="background:var(--accent); color:var(--logo-green)">Kembali ke Produk</button>
  </section>`;
  document.getElementById('aboutBackBtn').addEventListener('click', () => {
    renderProducts();
    setActiveNav('navHome');
  });
  window.history.replaceState({page:'about'}, '', '');
  setActiveNav('navTentang');
}

  function setActiveNav(activeId) {
    document.querySelectorAll('#bottomNav .nav-icon').forEach(btn => {
      btn.classList.toggle('active', btn.id === activeId);
    });
  }

  document.getElementById('navHome').addEventListener('click', e => {
    e.preventDefault();
    renderProducts();
    setActiveNav('navHome');
  });
  cartBtn.addEventListener('click', () => {
    renderCartPage();
    setActiveNav('cartBtn');
  });
  document.getElementById('navTentang').addEventListener('click', e => {
    e.preventDefault();
    renderAboutPage();
    setActiveNav('navTentang');
  });

  document.getElementById('confirmAddYes').addEventListener('click', () => {
    if(!pendingAdd) return;
    const {product, qty} = pendingAdd;
    const existing = cart.find(c => c.name === product.name);
    if(existing) existing.qty += qty;
    else cart.push({name: product.name, price: product.price, qty});
    updateCartUI();
    pendingAdd = null;
    const modal = document.getElementById('confirmAddModal');
    modal.style.display = 'none';
    modal.setAttribute('aria-hidden', 'true');
    alert('Berhasil ditambahkan ke keranjang');
  });
  document.getElementById('confirmAddNo').addEventListener('click', () => {
    pendingAdd = null;
    const modal = document.getElementById('confirmAddModal');
    modal.style.display = 'none';
    modal.setAttribute('aria-hidden', 'true');
  });

  window.addEventListener('DOMContentLoaded', function() {
    window.history.replaceState({page:'products'}, '', '');
    renderProducts();
    updateCartUI();
    setActiveNav('navHome');
  });

  window.addEventListener('popstate', function(event) {
    if(event.state){
      switch(event.state.page){
        case 'products': renderProducts(); setActiveNav('navHome'); break;
        case 'cart': renderCartPage(); setActiveNav('cartBtn'); break;
        case 'about': renderAboutPage(); setActiveNav('navTentang'); break;
        case 'detail': showDetail(event.state.idx); setActiveNav(null); break;
        default: renderProducts(); setActiveNav('navHome');
      }
    }else{
      renderProducts();
      setActiveNav('navHome');
    }
  });
</script>
</body>
</html>
